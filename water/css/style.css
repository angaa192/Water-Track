:root{
  --bg1:#f7fbff;
  --bg2:#eef3ff;
  --card:rgba(255,255,255,.78);
  --stroke:rgba(17,24,39,.08);
  --text:#0f172a;
  --muted:#64748b;
  --primary:#3b82f6;
  --primary2:#2563eb;
  --success:#22c55e;
  --danger:#ef4444;

  --r:22px;
  --shadow: 0 18px 50px rgba(2,8,23,.10);
  --shadow2: 0 10px 26px rgba(2,8,23,.10);

  --safe-bottom: env(safe-area-inset-bottom, 0px);
  --safe-top: env(safe-area-inset-top, 0px);
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
  color:var(--text);
  background:
    radial-gradient(1200px 600px at 20% -10%, rgba(59,130,246,.22), transparent 55%),
    radial-gradient(900px 500px at 100% 0%, rgba(34,197,94,.16), transparent 60%),
    linear-gradient(180deg, var(--bg1), var(--bg2));
  -webkit-tap-highlight-color: transparent;
}

a{color:inherit;text-decoration:none}
button{font-family:inherit}

.page{
  min-height:100%;
  padding-top: calc(14px + var(--safe-top));
  padding-bottom: calc(96px + var(--safe-bottom)); /* под нижний nav */
}

.container{
  width: min(440px, 100%);
  margin: 0 auto;
  padding: 18px 16px;
}

.header{
  text-align:center;
  margin: 10px 0 16px;
  animation: in .45s ease both;
}
.title{
  font-size: 26px;
  margin: 0 0 6px;
  letter-spacing:-.3px;
}
.subtitle{
  margin:0;
  font-size:14px;
  color:var(--muted);
}

.card{
  background: var(--card);
  border: 1px solid var(--stroke);
  border-radius: var(--r);
  box-shadow: var(--shadow);
  padding: 16px;
  margin: 12px 0;
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  animation: in2 .55s ease both;
}

.card.soft{
  box-shadow: var(--shadow2);
}

.row{
  display:flex;
  gap:10px;
}
.row > *{flex:1}

.badge{
  display:inline-flex;
  align-items:center;
  gap:8px;
  padding: 8px 12px;
  border-radius: 999px;
  border:1px solid var(--stroke);
  background: rgba(255,255,255,.55);
  color: var(--muted);
  font-size: 13px;
}

.kpi{
  display:flex;
  justify-content:space-between;
  align-items:flex-end;
  gap:10px;
}
.kpi .big{
  font-size: 34px;
  font-weight: 750;
  letter-spacing:-.8px;
}
.kpi .unit{
  font-size: 14px;
  color: var(--muted);
  padding-bottom: 6px;
}
.kpi .goal{
  text-align:right;
  font-size: 13px;
  color: var(--muted);
  padding-bottom: 4px;
}

.progress{
  height: 14px;
  border-radius: 999px;
  background: rgba(148,163,184,.22);
  overflow:hidden;
  border: 1px solid rgba(15,23,42,.08);
  margin-top: 12px;
}
.progress > .fill{
  height:100%;
  width:0%;
  border-radius:999px;
  background: linear-gradient(90deg, rgba(34,197,94,.95), rgba(59,130,246,.95));
  transition: width .45s cubic-bezier(.2,.8,.2,1);
}

.btn{
  width:100%;
  border:0;
  border-radius: 18px;
  padding: 14px 14px;
  font-size: 16px;
  font-weight: 650;
  cursor:pointer;
  transition: transform .12s ease, filter .2s ease, opacity .2s ease;
  touch-action: manipulation;
}
.btn:active{transform: scale(.98)}
.btn.primary{
  color:white;
  background: linear-gradient(135deg, var(--primary), var(--primary2));
  box-shadow: 0 14px 34px rgba(37,99,235,.30);
}
.btn.ghost{
  color: var(--text);
  background: rgba(255,255,255,.55);
  border: 1px solid var(--stroke);
}
.btn:disabled{
  opacity:.45;
  cursor:not-allowed;
  box-shadow:none;
}

.option{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:12px;
  padding: 14px 14px;
  border-radius: 18px;
  border: 1px solid var(--stroke);
  background: rgba(255,255,255,.60);
  margin: 10px 0;
  transition: transform .14s ease, background .22s ease, border-color .22s ease, box-shadow .22s ease;
  user-select:none;
}
.option:active{transform: scale(.99)}
.option .left{
  display:flex; align-items:center; gap:10px;
}
.option .emoji{
  width: 34px; height: 34px;
  border-radius: 12px;
  display:grid; place-items:center;
  background: rgba(59,130,246,.10);
  border: 1px solid rgba(59,130,246,.18);
  font-size: 18px;
}
.option .label{
  font-weight: 650;
}
.option .desc{
  font-size: 12px;
  color: var(--muted);
  margin-top: 2px;
}
.option .check{
  width: 22px; height: 22px;
  border-radius: 999px;
  border: 2px solid rgba(100,116,139,.35);
  display:grid; place-items:center;
  color: transparent;
  font-weight: 900;
  transition: .2s ease;
}

.option.selected{
  background: linear-gradient(135deg, rgba(59,130,246,.16), rgba(34,197,94,.12));
  border-color: rgba(59,130,246,.40);
  box-shadow: 0 10px 30px rgba(59,130,246,.14);
  transform: translateY(-2px);
}
.option.selected .check{
  border-color: rgba(34,197,94,.60);
  color: var(--success);
  background: rgba(34,197,94,.10);
}
.pop{
  animation: pop .26s ease both;
}

.small{
  font-size: 13px;
  color: var(--muted);
  line-height: 1.35;
}

.bottom-nav{
  position: fixed;
  left: 0; right: 0; bottom: 0;
  padding-bottom: var(--safe-bottom);
  height: calc(72px + var(--safe-bottom));
  background: rgba(255,255,255,.78);
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
  border-top: 1px solid rgba(15,23,42,.08);
  display:flex;
  align-items:center;
  justify-content:space-around;
  z-index: 50;
}

.bottom-nav a{
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
  gap:4px;
  font-size: 11px;
  color: rgba(100,116,139,.95);
  min-width: 62px;
  padding: 10px 8px;
  border-radius: 16px;
  transition: background .2s ease, color .2s ease, transform .1s ease;
}
.bottom-nav a:active{transform: scale(.98)}
.bottom-nav a .ico{font-size: 18px; line-height: 1}
.bottom-nav a.active{
  color: var(--primary2);
  background: rgba(37,99,235,.10);
  border: 1px solid rgba(37,99,235,.16);
}

.hr{
  height:1px;
  background: rgba(15,23,42,.08);
  margin: 14px 0;
}

@keyframes in{
  from{opacity:0; transform: translateY(10px)}
  to{opacity:1; transform: translateY(0)}
}
@keyframes in2{
  from{opacity:0; transform: translateY(14px)}
  to{opacity:1; transform: translateY(0)}
}
@keyframes pop{
  0%{transform: scale(.98)}
  55%{transform: scale(1.04)}
  100%{transform: scale(1)}
}

/* чуть крупнее на широких экранах */
@media (min-width: 520px){
  .title{font-size: 28px}
  .container{padding: 22px 18px}
}
